var $row;$("#name").on("input",function(){var e=this.value;$("#allNames option").filter(function(){if(this.value===e){var t=$(this).attr("data-value");console.log(t+" if condition"),$("#agentId").val(t)}}).length}),$(".reminderAddPopupContractDateSubmit").click(function(){$("#reminderAddPopupContractDateName").val($(".reminderAddPopupContractDateName").val()),$("#reminder_DateTimeAddPopupContractDate").val($(".reminder_DateTimeAddPopupContractDate").val()),$("#reminder_descriptionAddPopupContractDate").val($(".reminder_descriptionAddPopupContractDate").val()),$("#reminderAddPopupContractDate").hide()}),$(".reminderBtn").click(function(){var e=$(".reminder_DateTime").val(),t=$(".reminder_description").val(),n=$(".reminderDealId").val();$.ajax({type:"GET",url:"{{url('add-reminder-by-ajaxDealReminder')}}",data:{reminderDate:e,reminderDescription:t,reminderName:"dealContractDate",reminderDealId:n},success:function(e){"true"==$.trim(e)?$(".close-model").trigger("click"):alert("something went wrong!")}})}),$(document).ready(function(){$(".add-building-btn").click(function(){var e=$(".add-building-input").val();$(".add-building-input").val()?$.ajax({type:"GET",url:"{{url('add-building-by-ajax')}}",data:{buldingName:e},success:function(t){"true"==$.trim(t)?($(".insertBuilding").append("<option selected value="+e+">"+e+"</option>"),$(".close-model").trigger("click")):alert("something went wrong!")}}):alert("invalid Building Name")})}),$(".add-owner-details").click(function(){$('<div class="row owner-extra-fields" style="width:100%;padding:0px;margin:0px;"><div class="form-group col-sm-3"><label>Owner Name</label> <input type="text" class="form-control " placeholder="Client Name" name="owner_name_second " > </div><div class="form-group col-sm-3"> <label>Owner Phone</label> <input type="number" class="form-control" placeholder="Owner Phone" name="owner_phone_second" > </div><div class="form-group col-sm-3"> <label style="width:100%;">Owner Email</label> <input type="email" style="width:90%;" class="form-control" placeholder="Owner Email" name="owner_email_second"> </div><div class="form-group col-sm-3"> <label style="width:100%;visibility:hidden"></label> <span style="cursor:pointer" class="remove-owner-details"><i class="fa fa-window-close" style="font-size:18px;position:unset !important;"></i><span class="add-more">Remove</span></span> </div></div>').insertAfter(".owner-extra-fields"),$(this).hide()}),$(document).ready(function(){$(document).delegate(".remove-owner-details","click",function(){$(this).parent().parent().remove(),$(".add-owner-details").show(),$(this).hide()})}),$(document).ready(function(){$(document).delegate(".hideBtn","click",function(){$(".owner-extra-fieldsSecondOwner").hide(),$(this).hide(),$(".add-owner-detailsShowBtn").show()})}),$(document).ready(function(){$(document).delegate(".add-owner-detailsShowBtn","click",function(){$(".owner-extra-fieldsSecondOwner").show(),$(this).hide(),$(".hideBtn").show()})}),$(document).delegate(".editDealRow","click",function(){var e=($row=$(this).closest("tr")).find(".deal_start_datee").text(),t=$row.find(".contract_start_datee").text(),n=$row.find(".contract_end_datee").text(),a=$row.find(".unit_no").text(),o=$row.find(".referenceNo").text(),i=$row.find(".broker_name").text(),l=$row.find(".client_name").text(),r=$row.find(".contanct_no").text(),d=$row.find(".email").text(),c=$row.find(".property_type").text(),s=$row.find(".rent_sale_value").text(),m=$row.find(".rentalCheques").text(),u=$row.find(".building").text(),f=$row.find(".deal_Status").text(),p=(a=$row.find(".unit_no").text(),$row.find(".agent_name").text()),w=$row.find(".gross_commission").text(),v=$row.find(".gc_vat").text(),_=$row.find(".company_commision").text(),h=$row.find(".cc_Vat").text(),g=$row.find(".efAgent_Commission").text(),x=$row.find(".efAgent_Vat").text(),y=$row.find(".secondAgentName").text(),b=$row.find(".secondAgentCompany").text(),A=$row.find(".sacPhone").text(),D=$row.find(".secondAgent_Commission").text(),k=$row.find(".sacAgent_Vat").text(),C=$row.find(".thirdAgentName").text(),N=$row.find(".thirdAgentCompany").text(),S=$row.find(".tacPhone").text(),P=$row.find(".thirdAgentCommission").text(),B=$row.find(".tacVat").text(),E=$row.find(".paymentTerms").text(),G=$row.find(".chequeNumber").text(),O=$row.find(".ownerCompanyName").text(),F=$row.find(".ownerName").text(),I=$row.find(".ownerPhone").text(),T=$row.find(".ownerEmail").text(),V=$row.find(".ownerNameSecond").text(),j=$row.find(".ownerPhoneSecond").text(),q=$row.find(".ownerEmailSecond").text();V?($(".owner-extra-fieldsSecondOwner").show(),$(".add-owner-detailsShowBtn").hide(),$(".hideBtn").show()):($(".owner-extra-fieldsSecondOwner").hide(),$(".add-owner-detailsShowBtn").show());var R=$row.find(".chequeAmount").text(),z=$row.find(".note").text(),H=$row.find(".dealId").text();$("#deal_start_dateee")[0].valueAsDate=new Date(e),$("#contract_start_dateee")[0].valueAsDate=new Date(t),$("#contract_end_dateee")[0].valueAsDate=new Date(n),$("#unit_no").val(a),$("#referenceNo").val(o),$("#broker_name").val(i),$("#client_name").val(l),$("#contanct_no").val(r),$("#email").val(d),$("#property_type").val(c),$("#rent_sale_value").val(s),$("#rentalCheques").val(m),$(".insertBuilding").val(u),$("#deal_Status").val(f),$("#agent_name").val(p),$("#gross_commission").val(w),$("#gc_vat").val(v),$("#company_commision").val(_),$("#cc_Vat").val(h),$("#efAgent_Commission").val(g),$("#efAgent_Vat").val(x),$("#secondAgentName").val(y),$("#secondAgentCompany").val(b),$("#sacPhone").val(A),$("#secondAgent_Commission").val(D),$("#sacAgent_Vat").val(k),$("#thirdAgentName").val(C),$("#thirdAgentCompany").val(N),$("#tacPhone").val(S),$("#thirdAgentCommission").val(P),$("#tacVat").val(B),$("#paymentTerms").val(E),$("#chequeNumber").val(G),$("#unit_no").val(a),$("#ownerCompanyName").val(O),$("#ownerName").val(F),$("#ownerPhone").val(I),$("#unit_no").val(a),$("#ownerEmail").val(T),$("#ownerNameSecond").val(V),$("#ownerPhoneSecond").val(j),$("#ownerEmailSecond").val(q),$("#chequeAmount").val(R),$("#note").val(z),$("#dealId").val(H),$(".reminderDealId").val(H)}),jQuery("#datepicker-autoclose").datepicker({autoclose:!0,todayHighlight:!0}),$("#add-new-owne-link").click(function(){$(".owner_information_link_deals").slideToggle()}),$(".present_row .drop_arrow_icon").click(function(){$(this).parents(".present_row").next(".toggleable_row").toggleClass("tgl_row"),$(this).toggleClass("rotate_icon")}),$(".update_record").on("click",function(e){e.preventDefault(),$(".ind_chk_box:checkbox:checked").val()?$.ajax({url:'<?php echo url("bulkUpdateDealsProperty");  ?>',type:"get",data:$("#bulkForm").serialize(),success:function(e){console.log(e),"true"==e?alertify.success("Deal updated successfully!"):alertify.error("something went wrong")}}):alertify.error("please select Rows!")});var count=2;function showname(e){var t=document.getElementById("fileInput");alert("Selected file: "+t.files.item(0).name),alert("Selected file: "+t.files.item(0).size),alert("Selected file: "+t.files.item(0).type)}$("#add_more_docments").on("click",function(e){e.preventDefault(),$(".add_more_docments").append('<div class="form-group col-sm-4"><label>Attach Documents'+count+'</label><div class="input-group"><div class="custom-file"><input type="file" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" name="dealsdocuments[]"> <label class="custom-file-label" for="inputGroupFile01">Choose file</label><a href="#" title="close" class="close close_deal_document"><i class="fas fa-times close_icon"></i></a></div></div></div>'),count++}),$("#add_more_docments_edit").on("click",function(e){e.preventDefault(),$(".add_more_docments_edit").append('<div class=""><label>Attach Documents'+count+'</label><div class="input-group"><div class="custom-file"><input type="file" class="custom-file-input" id="inputGroupFile01" aria-describedby="inputGroupFileAddon01" name="dealsdocuments[]"> <label class="custom-file-label" for="inputGroupFile01">Choose file</label><a href="#" title="close" class="close close_deal_document_edit"><i class="fas fa-times close_icon"></i></a></div></div></div>'),count++}),$("body").delegate(".close_deal_document","click",function(){$(this).parent().parent().parent().remove(),count--}),$("body").delegate(".close_deal_document_edit","click",function(){$(this).parent().parent().parent().remove(),count--}),$("body").delegate("#inputGroupFile01","change",function(e){var t=e.target.files[0].name;$(this).siblings(".custom-file-label").html(t)});